Advanced Kubernetes — Secrets
=============================
8 часов, 2 ак. дня.

Prerequisites
=============

- [ ] RAM ≥ 8Gb
- [ ] [Пройденыне задание с тренига по Docker](#link-to-docker-part)
- [ ] [Развёрнутый кластер k8s на пару](#link-to-confluence)
- [ ] terminal
- [ ] kubectl cli

Agenda
======
Секреты K8S
-----------

- [ ] Где используются секреты и почему плохо использовать configmaps?
- [ ] Как устроены стандартные секреты и чем они плохи?
- [ ] Какие существуют Best Practice по работе с секретами
- [ ] Надёжность и безопасность VS Гибкость и сложность - обсуждение компромиссов
- [ ] Какие способы получение секретов будем использовать

Hands-on practice quest #01: Add secrets to applications
--------------------------------------------------------
- [ ] Given пары участников имеют задеплоенную версию приложений
- [ ] When участники запускают команды и применяют новую настройки

Конфигурируем для одного приложение rediness/liveness для другого нет
```shell
kubectl create
kubectl create secret NAME
```

- [ ] Then участники делятся результатами и соображениями
- как проверить увидело ли ваше приложение secret?
- куда выбрали положить секреты? Почему?

Безопасность распространения данных
-----------------------------------

- [ ] Работа с безопасностью на стороне приложения
- [ ] Про автообновление секретов (mount vs env vs external)
- [ ] Поддержка получение секретов со стороны инфраструктуры
- [ ] Существующие решения на примере https://github.com/external-secrets/kubernetes-external-secrets и white papers 

Hands-on practice quest #02: Update secrets
-------------------------------------------
- [ ] Given пары участников имеют задеплоенную версию приложений и настроекнные секреты
- [ ] When участники запускают команды и применяют новую настройки

Конфигурируем для одного приложение rediness/liveness для другого нет
```shell
kubectl apply -f secret.yml
```

```shell
kubectl exec deployment/<> cat/env
```

- [ ] Then участники делятся результатами и соображениями
- как проверить увидело ли ваше приложение secret?
- куда выбрали положить секреты? Почему?